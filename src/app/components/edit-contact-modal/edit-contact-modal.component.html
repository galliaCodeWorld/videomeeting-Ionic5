<!--
  Generated template for the AddContactsPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar hideBackButton="true">
        <ion-title>Edit Contact</ion-title>
        <ion-buttons end>
            <button (click)="viewCtrl.dismiss()" ion-button icon-only>
                <ion-icon name="close-circle"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>
<ion-content padding>


  <form [formGroup]="editContactForm">
      <ion-grid>
          <ion-row>
              <ion-col col-6 offset-3>
                  <pic-preview [imageSource]="avatar" (onAvatarChanged)="onAvatarChanged($event)"></pic-preview>
              </ion-col>
          </ion-row>
          <ion-row>
              <ion-col>
                  <ion-list>
                      <ion-item>
                          <ion-label stacked>Name</ion-label>
                          <ion-input type="text" formControlName="name" placeholder="Name"></ion-input>
                      </ion-item>
                      <ion-item text-wrap *ngIf="!editContactForm.controls.name.valid && editContactForm.controls.name.dirty">
                          <show-form-errors [control]="editContactForm.controls.name"></show-form-errors>
                      </ion-item>
                      <ion-item>
                          <ion-label stacked>Email</ion-label>
                          <ion-input type="text" formControlName="email" placeholder="Email"></ion-input>
                      </ion-item>
                      <ion-item text-wrap *ngIf="!editContactForm.controls.email.valid && editContactForm.controls.email.dirty">
                          <show-form-errors [control]="editContactForm.controls.email"></show-form-errors>
                      </ion-item>
                  </ion-list>
                 </ion-col>
          </ion-row>
          <ion-row>
              <ion-col>
                  <button *ngIf="!editContactLoading" [disabled]="!editContactForm.valid" (click)="saveChanges()" ion-button color="brand-orange">Save Changes</button>
                  <!--<button *ngIf="editContactLoading" ion-button color="brand-orange"><ion-spinner name="dots"></ion-spinner></button>-->
                  <button (click)="cancel()" ion-button color="light">cancel</button>
              </ion-col>
          </ion-row>
      </ion-grid>
    
    
  </form>
  
</ion-content>
